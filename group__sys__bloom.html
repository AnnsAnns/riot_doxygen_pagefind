<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bloom filter</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="jquery.scrollTo.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script>
            function displaySR(){
            searchBox.Search();
            var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replace(/href=\"\.\.\//g,'href="');
            document.getElementById('MSearchResultsWindow').style.display='none';
            document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
            document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
            document.getElementById('doc-content').innerHTML=rhtml;
            }
            function modSearch(){
            if(!searchBox.doxySearch){
                searchBox.doxySearch=searchBox.Search
                searchBox.Search= function(){this.doxySearch();
                var r=document.getElementById('MSearchResultsWindow');console.log(r.style);
                if(parseInt(r.style.left)<0)r.style.left=0;
                var x=document.getElementById('MSearchResults');
                if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                var f=document.getElementById('riot-searchform');
                if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';}
            }
            }
        </script>
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
                <div class="navbar-form navbar-right" style="background-color: white;"></div>
              <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
              <script src="/pagefind/pagefind-ui.js"></script>
              <div id="search">
              </div>
                <script>
                  window.addEventListener('DOMContentLoaded', (event) => {
                      new PagefindUI({ element: "#search", showSubResults: true });
                  });
              </script>
              </div>
              </div>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__sys__bloom.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Bloom filter<div class="ingroups"><a class="el" href="group__sys.html">System</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Bloom filter library  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Bloom filter library </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bloom_8h.html">bloom.h</a></td></tr>
<tr class="memdesc:bloom_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bloom filter API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbloom__t.html">bloom_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structbloom__t.html" title="bloom_t bloom filter object">bloom_t</a> bloom filter object  <a href="structbloom__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga6fd04f9ed5d13ee5de395073bcab0fec" id="r_ga6fd04f9ed5d13ee5de395073bcab0fec"><td class="memItemLeft" align="right" valign="top">typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6fd04f9ed5d13ee5de395073bcab0fec">hashfp_t</a>) (const uint8_t *, size_t len)</td></tr>
<tr class="memdesc:ga6fd04f9ed5d13ee5de395073bcab0fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">hash function to use in thee filter  <br /></td></tr>
<tr class="separator:ga6fd04f9ed5d13ee5de395073bcab0fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa240402a4f0f8b18821d49d6b23b9b0e" id="r_gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa240402a4f0f8b18821d49d6b23b9b0e">bloom_init</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, size_t size, uint8_t *bitfield, <a class="el" href="#ga6fd04f9ed5d13ee5de395073bcab0fec">hashfp_t</a> *hashes, int hashes_numof)</td></tr>
<tr class="memdesc:gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a Bloom Filter.  <br /></td></tr>
<tr class="separator:gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab23483bd4edf858615ffb42d1994d493" id="r_gab23483bd4edf858615ffb42d1994d493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab23483bd4edf858615ffb42d1994d493">bloom_del</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom)</td></tr>
<tr class="memdesc:gab23483bd4edf858615ffb42d1994d493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a Bloom filter.  <br /></td></tr>
<tr class="separator:gab23483bd4edf858615ffb42d1994d493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1287feebd8f35ab4aabf7a458ac4a2f" id="r_gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad1287feebd8f35ab4aabf7a458ac4a2f">bloom_add</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, const uint8_t *buf, size_t len)</td></tr>
<tr class="memdesc:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a string to a Bloom filter.  <br /></td></tr>
<tr class="separator:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccab5d24940adcc3fe16c6c5c8b8c313" id="r_gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaccab5d24940adcc3fe16c6c5c8b8c313">bloom_check</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, const uint8_t *buf, size_t len)</td></tr>
<tr class="memdesc:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a string is in the Bloom filter.  <br /></td></tr>
<tr class="separator:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga6fd04f9ed5d13ee5de395073bcab0fec" name="ga6fd04f9ed5d13ee5de395073bcab0fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fd04f9ed5d13ee5de395073bcab0fec">&#9670;&#160;</a></span>hashfp_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t(* hashfp_t) (const uint8_t *, size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>hash function to use in thee filter </p>

<p class="definition">Definition at line <a class="el" href="bloom_8h_source.html#l00137">137</a> of file <a class="el" href="bloom_8h_source.html">bloom.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad1287feebd8f35ab4aabf7a458ac4a2f" name="gad1287feebd8f35ab4aabf7a458ac4a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1287feebd8f35ab4aabf7a458ac4a2f">&#9670;&#160;</a></span>bloom_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bloom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a string to a Bloom filter. </p>
<p>CAVEAT Once a string has been added to the filter, it cannot be "removed"!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>Bloom filter </td></tr>
    <tr><td class="paramname">buf</td><td>string to add </td></tr>
    <tr><td class="paramname">len</td><td>the length of the string <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="gaccab5d24940adcc3fe16c6c5c8b8c313" name="gaccab5d24940adcc3fe16c6c5c8b8c313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaccab5d24940adcc3fe16c6c5c8b8c313">&#9670;&#160;</a></span>bloom_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bloom_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bloom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a string is in the Bloom filter. </p>
<p>The string 's' is hashed once for each of the 'k' hash functions, as though we were planning to add it to the filter. Instead of adding it however, we examine the bit that we <em>would</em> have set, and consider its value.</p>
<p>If the bit is 1 (set), the string we are hashing may be in the filter, since it would have set this bit when it was originally hashed. However, it may also be that another string just happened to produce a hash value that would also set this bit. That would be a false positive. This is why we have k &gt; 1, so we can minimize the likelihood of false positives occurring.</p>
<p>If every bit corresponding to every one of the k hashes of our query string is set, we can say with some probability of being correct that the string we are holding is indeed "in" the filter. However, we can never be sure.</p>
<p>If, however, as we hash our string and peek at the resulting bit in the filter, we find the bit is 0 (not set)... well now, that's different. In this case, we can say with absolute certainty that the string we are holding is <em>not</em> in the filter, because if it were, this bit would have to be set.</p>
<p>In this way, the Bloom filter can answer NO with absolute surety, but can only speak a qualified YES.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>Bloom filter </td></tr>
    <tr><td class="paramname">buf</td><td>string to check </td></tr>
    <tr><td class="paramname">len</td><td>the length of the string <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if string does not exist in the filter </dd>
<dd>
true if string is may be in the filter </dd></dl>

</div>
</div>
<a id="gab23483bd4edf858615ffb42d1994d493" name="gab23483bd4edf858615ffb42d1994d493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab23483bd4edf858615ffb42d1994d493">&#9670;&#160;</a></span>bloom_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bloom</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a Bloom filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>The condemned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="gaa240402a4f0f8b18821d49d6b23b9b0e" name="gaa240402a4f0f8b18821d49d6b23b9b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa240402a4f0f8b18821d49d6b23b9b0e">&#9670;&#160;</a></span>bloom_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bloom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>bitfield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga6fd04f9ed5d13ee5de395073bcab0fec">hashfp_t</a> *</td>          <td class="paramname"><span class="paramname"><em>hashes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>hashes_numof</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a Bloom Filter. </p>
<dl class="section note"><dt>Note</dt><dd>For best results, make 'size' a power of 2.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td><a class="el" href="structbloom__t.html" title="bloom_t bloom filter object">bloom_t</a> to initialize </td></tr>
    <tr><td class="paramname">size</td><td>size of the bloom filter in bits </td></tr>
    <tr><td class="paramname">bitfield</td><td>underlying bitfield of the bloom filter </td></tr>
    <tr><td class="paramname">hashes</td><td>array of hashes </td></tr>
    <tr><td class="paramname">hashes_numof</td><td>number of elements in hashes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>bitfield</code> MUST be large enough to hold <code>size</code> bits. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Mon Sep 23 2024 14:49:33 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.12.0</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
