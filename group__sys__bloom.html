<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RIOT OS: Bloom filter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!-- <script type="text/javascript" src="jquery.js"></script> -->
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<!-- <link href="/pagefind/pagefind-ui.css" rel="stylesheet"> -->
<script src="/pagefind/pagefind-ui.js"></script>
<script>
  // Check whether the PagefindUI class is available
  if (typeof PagefindUI === 'undefined') {
    console.error('PagefindUI class is not available | Dev Build');
  } else {
    // // Remove the "searchstub" element and initialize the PagefindUI class
    // document.getElementById("#searchstub").remove();
    // Initialize the PagefindUI class with the element id "search"
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
  }
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="global.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <script>
    // Print the data within the NAVTREE variable from the navtreedata.js file
    var navtree = NAVTREE;
    console.log(navtree);
  </script>
<div class="flex flex-row gap-4 w-screen font-sans text-lg max-h-screen overscroll-contain justify-items-stretch bg-neutral-900">
  <!--Sidebar-->
  <div data-pagefind-ignore="all" class="w-1/3 max-w-md flex-auto h-screen bg-neutral-800 ring-2 ring-neutral-700 shadow-neutral-800 shadow-2xl rounded-xl p-3 ml-1 my-2 mr-3 flex flex-col justify-around">
    <div id="top" class="justify-self-center content-center items-center place-content-center">
      <img alt="Logo" src="riot-logo.svg"/>
      <div id="projectbrief">
        The friendly Operating System for the Internet of Things
      </div>
    </div>
    <div id="search" class="place-content-center" class="overflow-y-scroll max-h-64 bg-slate-400 ring-2 ring-white text-white" >
      <h1>Searchbar via Pagefind</h1>
      <!-- <div id="searchstub" class="flex items-center border border-gray-300 rounded-lg p-2 shadow-sm">
        <input type="text" placeholder="Search is only available in Production Build ..." class="flex-grow p-2 outline-none">
      </div> -->
    </div>
    <div id="navtree">
      <script>
        // The navtree variable is always a pair of two elements (key, value)
        // The key is the name we should display and the value is the link to the page
        // Generate the navtree from the navtreedata.js file and put it under the navtree div
        var navtree = NAVTREE[0][2];
        var navtreeHTML = "<h1>Navigation based on Doxygen</h1> <ul>";
        for (var i = 0; i < navtree.length; i++) {
          navtreeHTML += "<li><a href='" + navtree[i][1] + "'>" + navtree[i][0] + "</a></li>";
          if (i == 5) {
            navtreeHTML += '<li><h3 class="ring-2 ring-white"> Random Insert for Demonstration </h3></li>';
          }
        }
        navtreeHTML += "</ul>";
        document.getElementById("navtree").innerHTML = navtreeHTML;
      </script>
    </div>
    <ul>
      <li class="footer">
        Generated on Tue Sep 24 2024 11:16:26 by 
          <a href="http://www.doxygen.org/index.html">
            Doxygen
          </a> 
        1.12.0
      </li>
    </ul>
  </div>
  <!--Main Content-->
  <div class="hidden">
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__sys__bloom.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Bloom filter<div class="ingroups"><a class="el" href="group__sys.html">System</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Bloom filter library  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Bloom filter library </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bloom_8h.html">bloom.h</a></td></tr>
<tr class="memdesc:bloom_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bloom filter API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbloom__t.html">bloom_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structbloom__t.html" title="bloom_t bloom filter object">bloom_t</a> bloom filter object  <a href="structbloom__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga6fd04f9ed5d13ee5de395073bcab0fec" id="r_ga6fd04f9ed5d13ee5de395073bcab0fec"><td class="memItemLeft" align="right" valign="top">typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6fd04f9ed5d13ee5de395073bcab0fec">hashfp_t</a>) (const uint8_t *, size_t len)</td></tr>
<tr class="memdesc:ga6fd04f9ed5d13ee5de395073bcab0fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">hash function to use in thee filter  <br /></td></tr>
<tr class="separator:ga6fd04f9ed5d13ee5de395073bcab0fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa240402a4f0f8b18821d49d6b23b9b0e" id="r_gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa240402a4f0f8b18821d49d6b23b9b0e">bloom_init</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, size_t size, uint8_t *bitfield, <a class="el" href="#ga6fd04f9ed5d13ee5de395073bcab0fec">hashfp_t</a> *hashes, int hashes_numof)</td></tr>
<tr class="memdesc:gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a Bloom Filter.  <br /></td></tr>
<tr class="separator:gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab23483bd4edf858615ffb42d1994d493" id="r_gab23483bd4edf858615ffb42d1994d493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab23483bd4edf858615ffb42d1994d493">bloom_del</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom)</td></tr>
<tr class="memdesc:gab23483bd4edf858615ffb42d1994d493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a Bloom filter.  <br /></td></tr>
<tr class="separator:gab23483bd4edf858615ffb42d1994d493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1287feebd8f35ab4aabf7a458ac4a2f" id="r_gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad1287feebd8f35ab4aabf7a458ac4a2f">bloom_add</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, const uint8_t *buf, size_t len)</td></tr>
<tr class="memdesc:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a string to a Bloom filter.  <br /></td></tr>
<tr class="separator:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccab5d24940adcc3fe16c6c5c8b8c313" id="r_gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaccab5d24940adcc3fe16c6c5c8b8c313">bloom_check</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, const uint8_t *buf, size_t len)</td></tr>
<tr class="memdesc:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a string is in the Bloom filter.  <br /></td></tr>
<tr class="separator:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga6fd04f9ed5d13ee5de395073bcab0fec" name="ga6fd04f9ed5d13ee5de395073bcab0fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fd04f9ed5d13ee5de395073bcab0fec">&#9670;&#160;</a></span>hashfp_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t(* hashfp_t) (const uint8_t *, size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>hash function to use in thee filter </p>

<p class="definition">Definition at line <a class="el" href="bloom_8h_source.html#l00137">137</a> of file <a class="el" href="bloom_8h_source.html">bloom.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad1287feebd8f35ab4aabf7a458ac4a2f" name="gad1287feebd8f35ab4aabf7a458ac4a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1287feebd8f35ab4aabf7a458ac4a2f">&#9670;&#160;</a></span>bloom_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bloom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a string to a Bloom filter. </p>
<p>CAVEAT Once a string has been added to the filter, it cannot be "removed"!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>Bloom filter </td></tr>
    <tr><td class="paramname">buf</td><td>string to add </td></tr>
    <tr><td class="paramname">len</td><td>the length of the string <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="gaccab5d24940adcc3fe16c6c5c8b8c313" name="gaccab5d24940adcc3fe16c6c5c8b8c313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaccab5d24940adcc3fe16c6c5c8b8c313">&#9670;&#160;</a></span>bloom_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bloom_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bloom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a string is in the Bloom filter. </p>
<p>The string 's' is hashed once for each of the 'k' hash functions, as though we were planning to add it to the filter. Instead of adding it however, we examine the bit that we <em>would</em> have set, and consider its value.</p>
<p>If the bit is 1 (set), the string we are hashing may be in the filter, since it would have set this bit when it was originally hashed. However, it may also be that another string just happened to produce a hash value that would also set this bit. That would be a false positive. This is why we have k &gt; 1, so we can minimize the likelihood of false positives occurring.</p>
<p>If every bit corresponding to every one of the k hashes of our query string is set, we can say with some probability of being correct that the string we are holding is indeed "in" the filter. However, we can never be sure.</p>
<p>If, however, as we hash our string and peek at the resulting bit in the filter, we find the bit is 0 (not set)... well now, that's different. In this case, we can say with absolute certainty that the string we are holding is <em>not</em> in the filter, because if it were, this bit would have to be set.</p>
<p>In this way, the Bloom filter can answer NO with absolute surety, but can only speak a qualified YES.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>Bloom filter </td></tr>
    <tr><td class="paramname">buf</td><td>string to check </td></tr>
    <tr><td class="paramname">len</td><td>the length of the string <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if string does not exist in the filter </dd>
<dd>
true if string is may be in the filter </dd></dl>

</div>
</div>
<a id="gab23483bd4edf858615ffb42d1994d493" name="gab23483bd4edf858615ffb42d1994d493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab23483bd4edf858615ffb42d1994d493">&#9670;&#160;</a></span>bloom_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bloom</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a Bloom filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>The condemned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="gaa240402a4f0f8b18821d49d6b23b9b0e" name="gaa240402a4f0f8b18821d49d6b23b9b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa240402a4f0f8b18821d49d6b23b9b0e">&#9670;&#160;</a></span>bloom_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bloom</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>bitfield</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga6fd04f9ed5d13ee5de395073bcab0fec">hashfp_t</a> *</td>          <td class="paramname"><span class="paramname"><em>hashes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>hashes_numof</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a Bloom Filter. </p>
<dl class="section note"><dt>Note</dt><dd>For best results, make 'size' a power of 2.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td><a class="el" href="structbloom__t.html" title="bloom_t bloom filter object">bloom_t</a> to initialize </td></tr>
    <tr><td class="paramname">size</td><td>size of the bloom filter in bits </td></tr>
    <tr><td class="paramname">bitfield</td><td>underlying bitfield of the bloom filter </td></tr>
    <tr><td class="paramname">hashes</td><td>array of hashes </td></tr>
    <tr><td class="paramname">hashes_numof</td><td>number of elements in hashes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>bitfield</code> MUST be large enough to hold <code>size</code> bits. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

    </div>
  </body>
</html>
