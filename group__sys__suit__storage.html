<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RIOT OS: SUIT secure firmware OTA upgrade storage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!-- <script type="text/javascript" src="jquery.js"></script> -->
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<!-- <link href="/pagefind/pagefind-ui.css" rel="stylesheet"> -->
<script src="/pagefind/pagefind-ui.js"></script>
<script>
  // Check whether the PagefindUI class is available
  if (typeof PagefindUI === 'undefined') {
    console.error('PagefindUI class is not available | Dev Build');
  } else {
    // // Remove the "searchstub" element and initialize the PagefindUI class
    // document.getElementById("#searchstub").remove();
    // Initialize the PagefindUI class with the element id "search"
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
  }
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="global.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <script>
    // Print the data within the NAVTREE variable from the navtreedata.js file
    var navtree = NAVTREE;
    console.log(navtree);
  </script>
<div class="flex flex-row gap-4 w-screen font-sans text-lg max-h-screen overscroll-contain justify-items-stretch bg-neutral-900">
  <!--Sidebar-->
  <div data-pagefind-ignore="all" class="w-1/3 max-w-md flex-auto h-screen bg-neutral-800 ring-2 ring-neutral-700 shadow-neutral-800 shadow-2xl rounded-xl p-3 ml-1 my-2 mr-3 flex flex-col justify-around">
    <div id="top" class="justify-self-center content-center items-center place-content-center">
      <img alt="Logo" src="riot-logo.svg"/>
      <div id="projectbrief">
        The friendly Operating System for the Internet of Things
      </div>
    </div>
    <div id="search" class="place-content-center" class="overflow-y-scroll max-h-64 bg-slate-400 ring-2 ring-white text-white" >
      <h1>Searchbar via Pagefind</h1>
      <!-- <div id="searchstub" class="flex items-center border border-gray-300 rounded-lg p-2 shadow-sm">
        <input type="text" placeholder="Search is only available in Production Build ..." class="flex-grow p-2 outline-none">
      </div> -->
    </div>
    <div id="navtree">
      <script>
        // The navtree variable is always a pair of two elements (key, value)
        // The key is the name we should display and the value is the link to the page
        // Generate the navtree from the navtreedata.js file and put it under the navtree div
        var navtree = NAVTREE[0][2];
        var navtreeHTML = "<h1>Navigation based on Doxygen</h1> <ul>";
        for (var i = 0; i < navtree.length; i++) {
          navtreeHTML += "<li><a href='" + navtree[i][1] + "'>" + navtree[i][0] + "</a></li>";
          if (i == 5) {
            navtreeHTML += '<li><h3 class="ring-2 ring-white"> Random Insert for Demonstration </h3></li>';
          }
        }
        navtreeHTML += "</ul>";
        document.getElementById("navtree").innerHTML = navtreeHTML;
      </script>
    </div>
    <ul>
      <li class="footer">
        Generated on Tue Sep 24 2024 11:16:27 by 
          <a href="http://www.doxygen.org/index.html">
            Doxygen
          </a> 
        1.12.0
      </li>
    </ul>
  </div>
  <!--Main Content-->
  <div class="hidden">
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__sys__suit__storage.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#groups">Topics</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">SUIT secure firmware OTA upgrade storage<div class="ingroups"><a class="el" href="group__sys.html">System</a> &raquo; <a class="el" href="group__sys__suit.html">SUIT secure firmware OTA upgrade infrastructure</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>infrastructure  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>infrastructure </p>
<p>SUIT firmware storage backends</p>
<p>Storage backend functions for SUIT manifests </p><dl class="section author"><dt>Author</dt><dd>Koen Zandberg <a href="#" onclick="location.href='mai'+'lto:'+'koe'+'n@'+'ber'+'gz'+'and'+'.n'+'et'; return false;">koen@<span class="obfuscator">.nosp@m.</span>berg<span class="obfuscator">.nosp@m.</span>zand.<span class="obfuscator">.nosp@m.</span>net</a></dd></dl>
<p>The interface defined here specifies a generic API for SUIT OTA storage backends.</p>
<p>The driver allows for creating multiple backends, each possibly servicing multiple locations. An example of this is a VFS storage backend. This backend could service multiple file locations on a filesystem.</p>
<p>A SUIT component ID is formatted as an array of bytestrings. To make it easy to match and use a string, the location is supplied as string, each component separated by a separator provided in the driver. If no separator (<code>\0</code>) is set, the components are concatenated without separator. The <a class="el" href="structsuit__storage__driver.html#a771b575214bc8ad8d5cdd2c72d8530b5">suit_storage_driver_t::set_active_location</a> must be called before starting operations on the backend.</p>
<p>A write sequence by the caller must start with <a class="el" href="structsuit__storage__driver.html#a5b996af8800e6f6adda13a01bea4af71">suit_storage_driver_t::start</a>. The total length of the image is supplied to allow the backend to check if the payload fits in the available space. The payload data can be supplied piecewise with multiple calls to <a class="el" href="structsuit__storage__driver.html#a1bcb69cf7bd476bbcfdd93e7107ea8e5">suit_storage_driver_t::write</a>. The caller is free to specify the offset, but the backend may enforce strict monotonicity on the offset and may enforce the gapless writes. After all bytes are supplied, the <a class="el" href="structsuit__storage__driver.html#accd8f42c0f5a26e1466d8d65b321b3e2">suit_storage_driver_t::finish</a> function must be called to signal the end of the write stage.</p>
<p>Only when the <a class="el" href="structsuit__storage__driver.html#a507db5fbf05f97ac76fbc3d8bc7eee0c">suit_storage_driver_t::install</a> is called, the payload must be marked as valid. The mechanism for this can be backend specific. However in the case of a firmware image, it must not be bootable before this function is called. Similarly, a file payload must not be available at its provided path until after this function is called. The reason behind this is that the payload often must first be stored on the device before the image_match is called by the manifest.</p>
<p>The other option is that the <a class="el" href="structsuit__storage__driver.html#a141a01aa05a3407dba52fbc687364d52">suit_storage_driver_t::erase</a> is called. In this case the not-yet-installed payload must be erased again as its contents might not be what is expected by the digest in the manifest. The payload must then be removed to prevent the possibility of storing malicious code on the device.</p>
<p>A form of read access must be implemented to provide a way to read back the data and check the digest of the payload. <a class="el" href="structsuit__storage__driver.html#ad6d948219078ec70812a74fb5470554f">suit_storage_driver_t::read</a> must be implemented, providing piecewise reading of the data. <a class="el" href="structsuit__storage__driver.html#ae201c7825a6b374b38a71ae355e423cc">suit_storage_driver_t::read_ptr</a> is optional to implement, it can provide direct read access on memory-mapped storage.</p>
<p>As the storage backend provides a mechanism to store persistent data, functions are added to set and retrieve the manifest sequence number. While not strictly required to implement, a firmware without a mechanism to retrieve and store sequence numbers will always fail to update.</p>
<p>The <a class="el" href="structsuit__storage__driver.html#ab5cc93de1b9acae9c3a2308b69bde4ee">suit_storage_driver_t::match_offset</a> function allows the manifest handler to check the component-offset condition against a storage backend.</p>
<p>The usual call sequence by a manifest handler is:</p>
<ol type="1">
<li><a class="el" href="structsuit__storage__driver.html#ab884ee1d6c260334b603c70851c0dddb">suit_storage_driver_t::init</a> as on-boot initialization.</li>
<li><a class="el" href="structsuit__storage__driver.html#a1b00d856f2ce0ceadddd4e09dbea8b63">suit_storage_driver_t::get_seq_no</a> to determine if the manifest is not replayed.</li>
<li><a class="el" href="structsuit__storage__driver.html#a83d3abb9e1df010ce91a8a412fe07183">suit_storage_driver_t::has_location</a> to determine if the backend handles the payload in the manifest.</li>
<li><a class="el" href="structsuit__storage__driver.html#a771b575214bc8ad8d5cdd2c72d8530b5">suit_storage_driver_t::set_active_location</a> to set the active location for the payload.</li>
<li><a class="el" href="structsuit__storage__driver.html#a5b996af8800e6f6adda13a01bea4af71">suit_storage_driver_t::start</a> to start a payload write sequence.</li>
<li>At least one <a class="el" href="structsuit__storage__driver.html#a1bcb69cf7bd476bbcfdd93e7107ea8e5">suit_storage_driver_t::write</a> calls to write the payload data.</li>
<li><a class="el" href="structsuit__storage__driver.html#accd8f42c0f5a26e1466d8d65b321b3e2">suit_storage_driver_t::finish</a> to mark the end of the payload write.</li>
<li><a class="el" href="structsuit__storage__driver.html#ad6d948219078ec70812a74fb5470554f">suit_storage_driver_t::read</a> or <a class="el" href="structsuit__storage__driver.html#ae201c7825a6b374b38a71ae355e423cc">suit_storage_driver_t::read_ptr</a> to read back the written payload. This to verify the digest of the payload with what is provided in the manifest.</li>
<li><a class="el" href="structsuit__storage__driver.html#a507db5fbf05f97ac76fbc3d8bc7eee0c">suit_storage_driver_t::install</a> if the digest matches with what is expected and the payload can be installed or marked as valid, or:</li>
<li><a class="el" href="structsuit__storage__driver.html#a141a01aa05a3407dba52fbc687364d52">suit_storage_driver_t::erase</a> if the digest does not match with what is expected and must be erased.</li>
<li>ref <a class="el" href="structsuit__storage__driver.html#a4f5912a0eebefb273b3405d3d0ed64ec" title="Set a new sequence number in the storage backend.">suit_storage_driver_t::set_seq_no</a> to update the sequence number stored in the backend.</li>
</ol>
<dl class="section warning"><dt>Warning</dt><dd>This API is by design not thread safe </dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__suit__storage__ram.html">ram storage backend</a></td></tr>
<tr class="memdesc:group__sys__suit__storage__ram"><td class="mdescLeft">&#160;</td><td class="mdescRight">RAM blob SUIT payload storage backends <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__suit__storage__flashwrite.html">riotboot flashwrite storage backend</a></td></tr>
<tr class="memdesc:group__sys__suit__storage__flashwrite"><td class="mdescLeft">&#160;</td><td class="mdescRight">SUIT riotboot firmware storage backend <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__suit__storage__vfs.html">riotboot vfs storage backend</a></td></tr>
<tr class="memdesc:group__sys__suit__storage__vfs"><td class="mdescLeft">&#160;</td><td class="mdescRight">SUIT riotboot firmware storage backend <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsuit__storage__driver.html">suit_storage_driver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">SUIT storage backend driver struct.  <a href="structsuit__storage__driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsuit__storage.html">suit_storage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic storage backend state.  <a href="structsuit__storage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga03298711d23f61d14c2a44095fc9c3d0" id="r_ga03298711d23f61d14c2a44095fc9c3d0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsuit__storage.html">suit_storage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a></td></tr>
<tr class="memdesc:ga03298711d23f61d14c2a44095fc9c3d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declaration for storage struct.  <br /></td></tr>
<tr class="separator:ga03298711d23f61d14c2a44095fc9c3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdc3ef23bcee8946d5cd0de1d8dc9c00" id="r_gafdc3ef23bcee8946d5cd0de1d8dc9c00"><td class="memItemLeft" align="right" valign="top"><a id="gafdc3ef23bcee8946d5cd0de1d8dc9c00" name="gafdc3ef23bcee8946d5cd0de1d8dc9c00"></a>
typedef struct <a class="el" href="structsuit__storage__driver.html">suit_storage_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><b>suit_storage_driver_t</b></td></tr>
<tr class="memdesc:gafdc3ef23bcee8946d5cd0de1d8dc9c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">SUIT storage backend driver struct. <br /></td></tr>
<tr class="separator:gafdc3ef23bcee8946d5cd0de1d8dc9c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf51e0fa5d9fa6a67aa6f92c470bddaff" id="r_gaf51e0fa5d9fa6a67aa6f92c470bddaff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf51e0fa5d9fa6a67aa6f92c470bddaff">suit_storage_find_by_id</a> (const char *id)</td></tr>
<tr class="memdesc:gaf51e0fa5d9fa6a67aa6f92c470bddaff"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve a storage backend based on the location ID string  <br /></td></tr>
<tr class="separator:gaf51e0fa5d9fa6a67aa6f92c470bddaff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91f1e7a8100856f264744937bd203782" id="r_ga91f1e7a8100856f264744937bd203782"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga91f1e7a8100856f264744937bd203782">suit_storage_find_by_component</a> (const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *manifest, const <a class="el" href="structsuit__component__t.html">suit_component_t</a> *component)</td></tr>
<tr class="memdesc:ga91f1e7a8100856f264744937bd203782"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve a storage backend based on the suit component  <br /></td></tr>
<tr class="separator:ga91f1e7a8100856f264744937bd203782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93940a17686ac8318ece243710686ef2" id="r_ga93940a17686ac8318ece243710686ef2"><td class="memItemLeft" align="right" valign="top"><a id="ga93940a17686ac8318ece243710686ef2" name="ga93940a17686ac8318ece243710686ef2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>suit_storage_init_all</b> (void)</td></tr>
<tr class="memdesc:ga93940a17686ac8318ece243710686ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize all storage backends <br /></td></tr>
<tr class="separator:ga93940a17686ac8318ece243710686ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecf213a95a178c5fa26dcfcdc84b6faa" id="r_gaecf213a95a178c5fa26dcfcdc84b6faa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaecf213a95a178c5fa26dcfcdc84b6faa">suit_storage_get_highest_seq_no</a> (uint32_t *seq_no)</td></tr>
<tr class="memdesc:gaecf213a95a178c5fa26dcfcdc84b6faa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the highest sequence number among available backends.  <br /></td></tr>
<tr class="separator:gaecf213a95a178c5fa26dcfcdc84b6faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf373ba1389f7b2515655507b265e6fbb" id="r_gaf373ba1389f7b2515655507b265e6fbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf373ba1389f7b2515655507b265e6fbb">suit_storage_set_seq_no_all</a> (uint32_t seq_no)</td></tr>
<tr class="memdesc:gaf373ba1389f7b2515655507b265e6fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the new sequence number on all available backends.  <br /></td></tr>
<tr class="separator:gaf373ba1389f7b2515655507b265e6fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Storage driver helper functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>For easy access to the <a class="el" href="#gafdc3ef23bcee8946d5cd0de1d8dc9c00">suit_storage_driver_t</a> functions. </p>
</td></tr>
<tr class="memitem:ga44617abc09407f99eaed17c7cd91d2ad" id="r_ga44617abc09407f99eaed17c7cd91d2ad"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga44617abc09407f99eaed17c7cd91d2ad">suit_storage_get_separator</a> (const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage)</td></tr>
<tr class="memdesc:ga44617abc09407f99eaed17c7cd91d2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the separator for a storage backend  <br /></td></tr>
<tr class="separator:ga44617abc09407f99eaed17c7cd91d2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53273de844ef3ffdcbc1309dbd305cdf" id="r_ga53273de844ef3ffdcbc1309dbd305cdf"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga53273de844ef3ffdcbc1309dbd305cdf">suit_storage_has_readptr</a> (const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage)</td></tr>
<tr class="memdesc:ga53273de844ef3ffdcbc1309dbd305cdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the storage backend implements the <a class="el" href="structsuit__storage__driver.html#ae201c7825a6b374b38a71ae355e423cc">suit_storage_driver_t::read_ptr</a> function.  <br /></td></tr>
<tr class="separator:ga53273de844ef3ffdcbc1309dbd305cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga737ca14e3e5218a21fd0454ec436da64" id="r_ga737ca14e3e5218a21fd0454ec436da64"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga737ca14e3e5218a21fd0454ec436da64">suit_storage_has_offset</a> (const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage)</td></tr>
<tr class="memdesc:ga737ca14e3e5218a21fd0454ec436da64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the storage backend implements the <a class="el" href="structsuit__storage__driver.html#ab5cc93de1b9acae9c3a2308b69bde4ee">suit_storage_driver_t::match_offset</a> function.  <br /></td></tr>
<tr class="separator:ga737ca14e3e5218a21fd0454ec436da64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaeae219414ea0bb3be68afdf6c3835ce" id="r_gaaeae219414ea0bb3be68afdf6c3835ce"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaeae219414ea0bb3be68afdf6c3835ce">suit_storage_init</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage)</td></tr>
<tr class="memdesc:gaaeae219414ea0bb3be68afdf6c3835ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">One-time initialization function.  <br /></td></tr>
<tr class="separator:gaaeae219414ea0bb3be68afdf6c3835ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9127bcef40eb261be32c3d7727e39ae7" id="r_ga9127bcef40eb261be32c3d7727e39ae7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9127bcef40eb261be32c3d7727e39ae7">suit_storage_start</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *manifest, size_t len)</td></tr>
<tr class="memdesc:ga9127bcef40eb261be32c3d7727e39ae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new payload write sequence.  <br /></td></tr>
<tr class="separator:ga9127bcef40eb261be32c3d7727e39ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdc45341030f88e58780b64a02c14599" id="r_gafdc45341030f88e58780b64a02c14599"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafdc45341030f88e58780b64a02c14599">suit_storage_write</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *manifest, const uint8_t *buf, size_t offset, size_t len)</td></tr>
<tr class="memdesc:gafdc45341030f88e58780b64a02c14599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a new chunk of the payload to the storage backend.  <br /></td></tr>
<tr class="separator:gafdc45341030f88e58780b64a02c14599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0dca4a1008dbdf95931eff8ad5f0433" id="r_gae0dca4a1008dbdf95931eff8ad5f0433"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae0dca4a1008dbdf95931eff8ad5f0433">suit_storage_finish</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *manifest)</td></tr>
<tr class="memdesc:gae0dca4a1008dbdf95931eff8ad5f0433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal that the payload write stage done to the storage backend.  <br /></td></tr>
<tr class="separator:gae0dca4a1008dbdf95931eff8ad5f0433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga056c950556409fd8735c0aab93d5c57a" id="r_ga056c950556409fd8735c0aab93d5c57a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga056c950556409fd8735c0aab93d5c57a">suit_storage_read</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, uint8_t *buf, size_t offset, size_t len)</td></tr>
<tr class="memdesc:ga056c950556409fd8735c0aab93d5c57a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a chunk of previously written data back.  <br /></td></tr>
<tr class="separator:ga056c950556409fd8735c0aab93d5c57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e672e0dfee03c8829791827145fb7b4" id="r_ga4e672e0dfee03c8829791827145fb7b4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4e672e0dfee03c8829791827145fb7b4">suit_storage_read_ptr</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, const uint8_t **buf, size_t *len)</td></tr>
<tr class="memdesc:ga4e672e0dfee03c8829791827145fb7b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve a direct read pointer for this storage backend  <br /></td></tr>
<tr class="separator:ga4e672e0dfee03c8829791827145fb7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45bff4398d5c8108bd4c5accca1967d9" id="r_ga45bff4398d5c8108bd4c5accca1967d9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga45bff4398d5c8108bd4c5accca1967d9">suit_storage_install</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *manifest)</td></tr>
<tr class="memdesc:ga45bff4398d5c8108bd4c5accca1967d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Install the payload or mark the payload as valid.  <br /></td></tr>
<tr class="separator:ga45bff4398d5c8108bd4c5accca1967d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b89ef497bfbf0b587e8e8257f19d1d4" id="r_ga7b89ef497bfbf0b587e8e8257f19d1d4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7b89ef497bfbf0b587e8e8257f19d1d4">suit_storage_erase</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage)</td></tr>
<tr class="memdesc:ga7b89ef497bfbf0b587e8e8257f19d1d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the previously loaded payload.  <br /></td></tr>
<tr class="separator:ga7b89ef497bfbf0b587e8e8257f19d1d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga262c18e832469e76076f19702174e07b" id="r_ga262c18e832469e76076f19702174e07b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga262c18e832469e76076f19702174e07b">suit_storage_has_location</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, const char *location)</td></tr>
<tr class="memdesc:ga262c18e832469e76076f19702174e07b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if this storage backend services a location.  <br /></td></tr>
<tr class="separator:ga262c18e832469e76076f19702174e07b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28a98359197e7bf9756359225bbe89e4" id="r_ga28a98359197e7bf9756359225bbe89e4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga28a98359197e7bf9756359225bbe89e4">suit_storage_match_offset</a> (const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, size_t offset)</td></tr>
<tr class="memdesc:ga28a98359197e7bf9756359225bbe89e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the supplied offset is true or false for the current location.  <br /></td></tr>
<tr class="separator:ga28a98359197e7bf9756359225bbe89e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1f18d18951f32bf5070c0ab966e5482" id="r_gae1f18d18951f32bf5070c0ab966e5482"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae1f18d18951f32bf5070c0ab966e5482">suit_storage_set_active_location</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, const char *location)</td></tr>
<tr class="memdesc:gae1f18d18951f32bf5070c0ab966e5482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the active location of the storage handler.  <br /></td></tr>
<tr class="separator:gae1f18d18951f32bf5070c0ab966e5482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga271f11f9f668e3bd27e25caaef45ea04" id="r_ga271f11f9f668e3bd27e25caaef45ea04"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga271f11f9f668e3bd27e25caaef45ea04">suit_storage_get_seq_no</a> (const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, uint32_t *seq_no)</td></tr>
<tr class="memdesc:ga271f11f9f668e3bd27e25caaef45ea04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the sequence number from the storage backend.  <br /></td></tr>
<tr class="separator:ga271f11f9f668e3bd27e25caaef45ea04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f130af051b232e6f14041b11da84ee2" id="r_ga8f130af051b232e6f14041b11da84ee2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8f130af051b232e6f14041b11da84ee2">suit_storage_set_seq_no</a> (<a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *storage, uint32_t seq_no)</td></tr>
<tr class="memdesc:ga8f130af051b232e6f14041b11da84ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a new sequence number in the storage backend.  <br /></td></tr>
<tr class="separator:ga8f130af051b232e6f14041b11da84ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga03298711d23f61d14c2a44095fc9c3d0" name="ga03298711d23f61d14c2a44095fc9c3d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03298711d23f61d14c2a44095fc9c3d0">&#9670;&#160;</a></span>suit_storage_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsuit__storage.html">suit_storage</a> <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forward declaration for storage struct. </p>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00110">110</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7b89ef497bfbf0b587e8e8257f19d1d4" name="ga7b89ef497bfbf0b587e8e8257f19d1d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b89ef497bfbf0b587e8e8257f19d1d4">&#9670;&#160;</a></span>suit_storage_erase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Erase the previously loaded payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sys__suit.html#gga5ad972943b02a8964f9f1d3c60da1fb5a5be35b975835e9929e7143166c0ed9f5">SUIT_OK</a> on successfully erasing the data </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00513">513</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga91f1e7a8100856f264744937bd203782" name="ga91f1e7a8100856f264744937bd203782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91f1e7a8100856f264744937bd203782">&#9670;&#160;</a></span>suit_storage_find_by_component()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> * suit_storage_find_by_component </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *</td>          <td class="paramname"><span class="paramname"><em>manifest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsuit__component__t.html">suit_component_t</a> *</td>          <td class="paramname"><span class="paramname"><em>component</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieve a storage backend based on the suit component </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">manifest</td><td>SUIT manifest context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">component</td><td>Component to find a storage backend for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first storage driver that handles this component </dd>
<dd>
NULL if none of the storage drivers is able to handle this component. </dd></dl>

</div>
</div>
<a id="gaf51e0fa5d9fa6a67aa6f92c470bddaff" name="gaf51e0fa5d9fa6a67aa6f92c470bddaff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf51e0fa5d9fa6a67aa6f92c470bddaff">&#9670;&#160;</a></span>suit_storage_find_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> * suit_storage_find_by_id </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieve a storage backend based on the location ID string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>ID string to match</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first storage driver that handles this ID </dd>
<dd>
NULL if none of the storage drivers is able to handle this ID. </dd></dl>

</div>
</div>
<a id="gae0dca4a1008dbdf95931eff8ad5f0433" name="gae0dca4a1008dbdf95931eff8ad5f0433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0dca4a1008dbdf95931eff8ad5f0433">&#9670;&#160;</a></span>suit_storage_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *</td>          <td class="paramname"><span class="paramname"><em>manifest</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal that the payload write stage done to the storage backend. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">manifest</td><td>The suit manifest context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sys__suit.html#gga5ad972943b02a8964f9f1d3c60da1fb5a5be35b975835e9929e7143166c0ed9f5">SUIT_OK</a> on successfully finalizing the write </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00449">449</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="gaecf213a95a178c5fa26dcfcdc84b6faa" name="gaecf213a95a178c5fa26dcfcdc84b6faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecf213a95a178c5fa26dcfcdc84b6faa">&#9670;&#160;</a></span>suit_storage_get_highest_seq_no()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int suit_storage_get_highest_seq_no </td>
          <td>(</td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>seq_no</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the highest sequence number among available backends. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">seq_no</td><td>Retrieved sequence number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>suit_ok if at least one sequence number is retrieved </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

</div>
</div>
<a id="ga44617abc09407f99eaed17c7cd91d2ad" name="ga44617abc09407f99eaed17c7cd91d2ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44617abc09407f99eaed17c7cd91d2ad">&#9670;&#160;</a></span>suit_storage_get_separator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char suit_storage_get_separator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get the separator for a storage backend </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The separator char </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00360">360</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga271f11f9f668e3bd27e25caaef45ea04" name="ga271f11f9f668e3bd27e25caaef45ea04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga271f11f9f668e3bd27e25caaef45ea04">&#9670;&#160;</a></span>suit_storage_get_seq_no()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_get_seq_no </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>seq_no</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the sequence number from the storage backend. </p>
<dl class="section note"><dt>Note</dt><dd>The sequence number must be global to the storage context, it must not depend on the location</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">seq_no</td><td>Retrieved sequence number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SUIT_OK on success </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> if the sequence number can't be retrieved </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00588">588</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga262c18e832469e76076f19702174e07b" name="ga262c18e832469e76076f19702174e07b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga262c18e832469e76076f19702174e07b">&#9670;&#160;</a></span>suit_storage_has_location()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool suit_storage_has_location </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>location</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if this storage backend services a location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">location</td><td>Location to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if this storage driver must be used for the supplied location </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00527">527</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga737ca14e3e5218a21fd0454ec436da64" name="ga737ca14e3e5218a21fd0454ec436da64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga737ca14e3e5218a21fd0454ec436da64">&#9670;&#160;</a></span>suit_storage_has_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool suit_storage_has_offset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the storage backend implements the <a class="el" href="structsuit__storage__driver.html#ab5cc93de1b9acae9c3a2308b69bde4ee">suit_storage_driver_t::match_offset</a> function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the function is implemented, </dd>
<dd>
False otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00388">388</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga53273de844ef3ffdcbc1309dbd305cdf" name="ga53273de844ef3ffdcbc1309dbd305cdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53273de844ef3ffdcbc1309dbd305cdf">&#9670;&#160;</a></span>suit_storage_has_readptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool suit_storage_has_readptr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the storage backend implements the <a class="el" href="structsuit__storage__driver.html#ae201c7825a6b374b38a71ae355e423cc">suit_storage_driver_t::read_ptr</a> function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the function is implemented, </dd>
<dd>
False otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00374">374</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="gaaeae219414ea0bb3be68afdf6c3835ce" name="gaaeae219414ea0bb3be68afdf6c3835ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaeae219414ea0bb3be68afdf6c3835ce">&#9670;&#160;</a></span>suit_storage_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>One-time initialization function. </p>
<p>Called at boot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00398">398</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga45bff4398d5c8108bd4c5accca1967d9" name="ga45bff4398d5c8108bd4c5accca1967d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45bff4398d5c8108bd4c5accca1967d9">&#9670;&#160;</a></span>suit_storage_install()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_install </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *</td>          <td class="paramname"><span class="paramname"><em>manifest</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Install the payload or mark the payload as valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">manifest</td><td>The suit manifest context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sys__suit.html#gga5ad972943b02a8964f9f1d3c60da1fb5a5be35b975835e9929e7143166c0ed9f5">SUIT_OK</a> on successfully installing the payload </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00499">499</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga28a98359197e7bf9756359225bbe89e4" name="ga28a98359197e7bf9756359225bbe89e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28a98359197e7bf9756359225bbe89e4">&#9670;&#160;</a></span>suit_storage_match_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_match_offset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the supplied offset is true or false for the current location. </p>
<dl class="section note"><dt>Note</dt><dd>Optional to implement, should not be implemented if the backend doesn't support the image_offset</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the location matches the offset, </dd>
<dd>
False otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00546">546</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga056c950556409fd8735c0aab93d5c57a" name="ga056c950556409fd8735c0aab93d5c57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga056c950556409fd8735c0aab93d5c57a">&#9670;&#160;</a></span>suit_storage_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a chunk of previously written data back. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Buffer to write the read data in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sys__suit.html#gga5ad972943b02a8964f9f1d3c60da1fb5a5be35b975835e9929e7143166c0ed9f5">SUIT_OK</a> on successfully reading the chunk </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00466">466</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga4e672e0dfee03c8829791827145fb7b4" name="ga4e672e0dfee03c8829791827145fb7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e672e0dfee03c8829791827145fb7b4">&#9670;&#160;</a></span>suit_storage_read_ptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_read_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t **</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>retrieve a direct read pointer for this storage backend </p>
<dl class="section note"><dt>Note</dt><dd>Optional to implement</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to the location data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>Full length of the location data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sys__suit.html#gga5ad972943b02a8964f9f1d3c60da1fb5a5be35b975835e9929e7143166c0ed9f5">SUIT_OK</a> on successfully providing the region </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00484">484</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="gae1f18d18951f32bf5070c0ab966e5482" name="gae1f18d18951f32bf5070c0ab966e5482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1f18d18951f32bf5070c0ab966e5482">&#9670;&#160;</a></span>suit_storage_set_active_location()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_set_active_location </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>location</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the active location of the storage handler. </p>
<p>A storage backend can handle multiple locations, e.g. a VFS backend targeting multiple files on a filesystem, setting the location selects the target location for writes or reads.</p>
<dl class="section note"><dt>Note</dt><dd>Must be idempotent</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage backend context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">location</td><td>The location supplied as string with components separated by the <a class="el" href="structsuit__storage__driver.html#acfc32fb546fdf9e6f0c778effd417670">suit_storage_driver_t::separator</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SUIT_OK on success </dd>
<dd>
SUIT_ERR_STORAGE_UNAVAILABLE if the location is not available. </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00570">570</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="ga8f130af051b232e6f14041b11da84ee2" name="ga8f130af051b232e6f14041b11da84ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f130af051b232e6f14041b11da84ee2">&#9670;&#160;</a></span>suit_storage_set_seq_no()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_set_seq_no </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>seq_no</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a new sequence number in the storage backend. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seq_no</td><td>Sequence number to store</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SUIT_OK on success </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> if the sequence number can't be stored. </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00603">603</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="gaf373ba1389f7b2515655507b265e6fbb" name="gaf373ba1389f7b2515655507b265e6fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf373ba1389f7b2515655507b265e6fbb">&#9670;&#160;</a></span>suit_storage_set_seq_no_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int suit_storage_set_seq_no_all </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>seq_no</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the new sequence number on all available backends. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">seq_no</td><td>Sequence number to store</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sys__suit.html#gga5ad972943b02a8964f9f1d3c60da1fb5a5be35b975835e9929e7143166c0ed9f5">SUIT_OK</a> on successfully storing the sequence number on at least one backend </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

</div>
</div>
<a id="ga9127bcef40eb261be32c3d7727e39ae7" name="ga9127bcef40eb261be32c3d7727e39ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9127bcef40eb261be32c3d7727e39ae7">&#9670;&#160;</a></span>suit_storage_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *</td>          <td class="paramname"><span class="paramname"><em>manifest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start a new payload write sequence. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">manifest</td><td>The suit manifest context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Total size of the payload in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sys__suit.html#gga5ad972943b02a8964f9f1d3c60da1fb5a5be35b975835e9929e7143166c0ed9f5">SUIT_OK</a> on successfully starting the write </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00413">413</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
<a id="gafdc45341030f88e58780b64a02c14599" name="gafdc45341030f88e58780b64a02c14599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdc45341030f88e58780b64a02c14599">&#9670;&#160;</a></span>suit_storage_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int suit_storage_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga03298711d23f61d14c2a44095fc9c3d0">suit_storage_t</a> *</td>          <td class="paramname"><span class="paramname"><em>storage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsuit__manifest__t.html">suit_manifest_t</a> *</td>          <td class="paramname"><span class="paramname"><em>manifest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a new chunk of the payload to the storage backend. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>Storage context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">manifest</td><td>The suit manifest context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer to read the payload chunk from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset to write at </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of the payload chunk</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__sys__suit.html#gga5ad972943b02a8964f9f1d3c60da1fb5a5be35b975835e9929e7143166c0ed9f5">SUIT_OK</a> on successfully writing the chunk </dd>
<dd>
<a class="el" href="group__sys__suit.html#ga5ad972943b02a8964f9f1d3c60da1fb5">suit_error_t</a> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="storage_8h_source.html#l00432">432</a> of file <a class="el" href="storage_8h_source.html">storage.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

    </div>
  </body>
</html>
