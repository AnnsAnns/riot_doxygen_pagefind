<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RIOT OS: WS2812/SK6812 RGB LED (NeoPixel)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!-- <script type="text/javascript" src="jquery.js"></script> -->
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<!-- <link href="/pagefind/pagefind-ui.css" rel="stylesheet"> -->
<script src="/pagefind/pagefind-ui.js"></script>
<script>
  // Check whether the PagefindUI class is available
  if (typeof PagefindUI === 'undefined') {
    console.error('PagefindUI class is not available | Dev Build');
  } else {
    // // Remove the "searchstub" element and initialize the PagefindUI class
    // document.getElementById("#searchstub").remove();
    // Initialize the PagefindUI class with the element id "search"
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
  }
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="global.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <script>
    // Print the data within the NAVTREE variable from the navtreedata.js file
    var navtree = NAVTREE;
    console.log(navtree);
  </script>
<div class="flex flex-row gap-4 w-screen font-sans text-lg max-h-screen overscroll-contain justify-items-stretch bg-neutral-900">
  <!--Sidebar-->
  <div data-pagefind-ignore="all" class="w-1/3 max-w-md flex-auto h-screen bg-neutral-800 ring-2 ring-neutral-700 shadow-neutral-800 shadow-2xl rounded-xl p-3 ml-1 my-2 mr-3 flex flex-col justify-around">
    <div id="top" class="justify-self-center content-center items-center place-content-center">
      <img alt="Logo" src="riot-logo.svg"/>
      <div id="projectbrief">
        The friendly Operating System for the Internet of Things
      </div>
    </div>
    <div id="search" class="place-content-center" class="overflow-y-scroll max-h-64 bg-slate-400 ring-2 ring-white text-white" >
      <h1>Searchbar via Pagefind</h1>
      <!-- <div id="searchstub" class="flex items-center border border-gray-300 rounded-lg p-2 shadow-sm">
        <input type="text" placeholder="Search is only available in Production Build ..." class="flex-grow p-2 outline-none">
      </div> -->
    </div>
    <div id="navtree">
      <script>
        // The navtree variable is always a pair of two elements (key, value)
        // The key is the name we should display and the value is the link to the page
        // Generate the navtree from the navtreedata.js file and put it under the navtree div
        var navtree = NAVTREE[0][2];
        var navtreeHTML = "<h1>Navigation based on Doxygen</h1> <ul>";
        for (var i = 0; i < navtree.length; i++) {
          navtreeHTML += "<li><a href='" + navtree[i][1] + "'>" + navtree[i][0] + "</a></li>";
          if (i == 5) {
            navtreeHTML += '<li><h3 class="ring-2 ring-white"> Random Insert for Demonstration </h3></li>';
          }
        }
        navtreeHTML += "</ul>";
        document.getElementById("navtree").innerHTML = navtreeHTML;
      </script>
    </div>
    <ul>
      <li class="footer">
        Generated on Tue Sep 24 2024 11:16:27 by 
          <a href="http://www.doxygen.org/index.html">
            Doxygen
          </a> 
        1.12.0
      </li>
    </ul>
  </div>
  <!--Main Content-->
  <div class="hidden">
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__drivers__ws281x.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">WS2812/SK6812 RGB LED (NeoPixel)<div class="ingroups"><a class="el" href="group__drivers.html">Drivers</a> &raquo; <a class="el" href="group__drivers__actuators.html">Actuator Device Drivers</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Driver for the WS2812 or the SK6812 RGB LEDs sold as NeoPixel  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the WS2812 or the SK6812 RGB LEDs sold as NeoPixel </p>
<h1><a class="anchor" id="autotoc_md1741"></a>
Summary</h1>
<p>The WS2812 or SK6812 RGB LEDs, or more commonly known as NeoPixels, can be chained so that a single data pin of the MCU can control an arbitrary number of RGB LEDs. This driver supports both the WS2812/SK6812 and the WS2812b LEDs.</p>
<h1><a class="anchor" id="autotoc_md1742"></a>
Support</h1>
<p>The protocol to communicate with the WS281x is custom, so no hardware implementations can be used. Hence, the protocol needs to be bit banged in software. As the timing requirements are too strict to do this using the platform independent APIs for accessing <a class="el" href="group__drivers__periph__gpio.html">GPIO</a> and <a class="el" href="group__sys__xtimer.html">xtimer high level timer abstraction layer (deprecated)</a>, platform specific implementations of <a class="el" href="#ga3680a18762396b4b41df473fcab8942a">ws281x_write</a> are needed.</p>
<h2><a class="anchor" id="autotoc_md1743"></a>
ATmega</h2>
<p>A bit banging implementation for ATmegas clocked at 8MHz and at 16MHz is provided. Boards clocked at any other core frequency are not supported. (But keep in mind that most (all?) ATmega MCUs do have an internal 8MHz oscillator, that could be enabled by changing the fuse settings.)</p>
<dl class="section warning"><dt>Warning</dt><dd>On 8MHz ATmegas, only pins at GPIO ports B, C, and D are supported. (On 16MHz ATmegas, any pin is fine.)</dd></dl>
<h2><a class="anchor" id="autotoc_md1744"></a>
ESP32</h2>
<p>The ESP32 implementation is frequency independent, as frequencies above 80MHz are high enough to support bit banging without assembly.</p>
<h2><a class="anchor" id="autotoc_md1745"></a>
Native/VT100</h2>
<p>The native (VT100) implementation writes the LED state to the console.</p>
<h3><a class="anchor" id="autotoc_md1746"></a>
Usage</h3>
<p>Add the following to your <code>Makefile</code>:</p>
<ul>
<li>Auto-selecting the backend: <div class="fragment"><div class="line">Makefile</div>
<div class="line">  USEMODULE += ws281x</div>
</div><!-- fragment --></li>
</ul>
<p>This will automatically pull in one of the backends supported by your board. In case multiple backends apply and the automatic selection does not pick your preferred backend, you can manually pick your preferred backend as described below.</p>
<ul>
<li>the ATmega backend: <div class="fragment"><div class="line">Makefile</div>
<div class="line">  USEMODULE += ws281x_atmega</div>
</div><!-- fragment --></li>
<li>the ESP32 backend: <div class="fragment"><div class="line">Makefile</div>
<div class="line">  USEMODULE += ws281x_esp32</div>
</div><!-- fragment --></li>
<li>the native/VT100 backend: <div class="fragment"><div class="line">Makefile</div>
<div class="line">  USEMODULE += ws281x_vt100</div>
</div><!-- fragment --> </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ws281x_8h.html">ws281x.h</a></td></tr>
<tr class="memdesc:ws281x_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">WS2812/SK6812 RGB LED Driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ws281x__backend_8h.html">ws281x_backend.h</a></td></tr>
<tr class="memdesc:ws281x__backend_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backend configuration for WS2812/SK6812 RGB LEDs. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ws281x__constants_8h.html">ws281x_constants.h</a></td></tr>
<tr class="memdesc:ws281x__constants_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constants for WS2812/SK6812 RGB LEDs. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ws281x__params_8h.html">ws281x_params.h</a></td></tr>
<tr class="memdesc:ws281x__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default configuration for WS2812/SK6812 RGB LEDs. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structws281x__params__t.html">ws281x_params_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to hold initialization parameters for a WS281x RGB LED.  <a href="structws281x__params__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structws281x__t.html">ws281x_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device descriptor of a WS281x RGB LED chain.  <a href="structws281x__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga55526cbb4cc2d0eb0b5a5736ba2818f9" id="r_ga55526cbb4cc2d0eb0b5a5736ba2818f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga55526cbb4cc2d0eb0b5a5736ba2818f9">WS281X_BYTES_PER_DEVICE</a>&#160;&#160;&#160;(3U)</td></tr>
<tr class="memdesc:ga55526cbb4cc2d0eb0b5a5736ba2818f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of bytes to allocate in the data buffer per LED.  <br /></td></tr>
<tr class="separator:ga55526cbb4cc2d0eb0b5a5736ba2818f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga86c21bf9f319acb9c87725b1f9322f46" id="r_ga86c21bf9f319acb9c87725b1f9322f46"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga86c21bf9f319acb9c87725b1f9322f46">ws281x_init</a> (<a class="el" href="structws281x__t.html">ws281x_t</a> *dev, const <a class="el" href="structws281x__params__t.html">ws281x_params_t</a> *params)</td></tr>
<tr class="memdesc:ga86c21bf9f319acb9c87725b1f9322f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an WS281x RGB LED chain.  <br /></td></tr>
<tr class="separator:ga86c21bf9f319acb9c87725b1f9322f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed6836b35419db74c0157baf49fa50a3" id="r_gaed6836b35419db74c0157baf49fa50a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaed6836b35419db74c0157baf49fa50a3">ws281x_write_buffer</a> (<a class="el" href="structws281x__t.html">ws281x_t</a> *dev, const void *buf, size_t size)</td></tr>
<tr class="memdesc:gaed6836b35419db74c0157baf49fa50a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the color data of the user supplied buffer.  <br /></td></tr>
<tr class="separator:gaed6836b35419db74c0157baf49fa50a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab946c1a39cf3a2ebefb8fe0ae12e4bd9" id="r_gab946c1a39cf3a2ebefb8fe0ae12e4bd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab946c1a39cf3a2ebefb8fe0ae12e4bd9">ws281x_prepare_transmission</a> (<a class="el" href="structws281x__t.html">ws281x_t</a> *dev)</td></tr>
<tr class="memdesc:gab946c1a39cf3a2ebefb8fe0ae12e4bd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up everything needed to write data to the WS281X LED chain.  <br /></td></tr>
<tr class="separator:gab946c1a39cf3a2ebefb8fe0ae12e4bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6dc34ec194571babec40b5a19415ed66" id="r_ga6dc34ec194571babec40b5a19415ed66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6dc34ec194571babec40b5a19415ed66">ws281x_end_transmission</a> (<a class="el" href="structws281x__t.html">ws281x_t</a> *dev)</td></tr>
<tr class="memdesc:ga6dc34ec194571babec40b5a19415ed66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the transmission to the WS2812/SK6812 LED chain.  <br /></td></tr>
<tr class="separator:ga6dc34ec194571babec40b5a19415ed66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8e3ae1677359d0ff025aa2ecbe9911a" id="r_gaf8e3ae1677359d0ff025aa2ecbe9911a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf8e3ae1677359d0ff025aa2ecbe9911a">ws281x_set_buffer</a> (void *dest, uint16_t index, <a class="el" href="structcolor__rgb__t.html">color_rgb_t</a> color)</td></tr>
<tr class="memdesc:gaf8e3ae1677359d0ff025aa2ecbe9911a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the color of an LED in the given data buffer.  <br /></td></tr>
<tr class="separator:gaf8e3ae1677359d0ff025aa2ecbe9911a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02cbbd1887bf1c4bf5d260e847694b42" id="r_ga02cbbd1887bf1c4bf5d260e847694b42"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga02cbbd1887bf1c4bf5d260e847694b42">ws281x_set</a> (<a class="el" href="structws281x__t.html">ws281x_t</a> *dev, uint16_t index, <a class="el" href="structcolor__rgb__t.html">color_rgb_t</a> color)</td></tr>
<tr class="memdesc:ga02cbbd1887bf1c4bf5d260e847694b42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the color of an LED in the chain in the internal buffer.  <br /></td></tr>
<tr class="separator:ga02cbbd1887bf1c4bf5d260e847694b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3680a18762396b4b41df473fcab8942a" id="r_ga3680a18762396b4b41df473fcab8942a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3680a18762396b4b41df473fcab8942a">ws281x_write</a> (<a class="el" href="structws281x__t.html">ws281x_t</a> *dev)</td></tr>
<tr class="memdesc:ga3680a18762396b4b41df473fcab8942a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the internal buffer to the LED chain.  <br /></td></tr>
<tr class="separator:ga3680a18762396b4b41df473fcab8942a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga55526cbb4cc2d0eb0b5a5736ba2818f9" name="ga55526cbb4cc2d0eb0b5a5736ba2818f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55526cbb4cc2d0eb0b5a5736ba2818f9">&#9670;&#160;</a></span>WS281X_BYTES_PER_DEVICE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WS281X_BYTES_PER_DEVICE&#160;&#160;&#160;(3U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of bytes to allocate in the data buffer per LED. </p>

<p class="definition">Definition at line <a class="el" href="ws281x_8h_source.html#l00104">104</a> of file <a class="el" href="ws281x_8h_source.html">ws281x.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6dc34ec194571babec40b5a19415ed66" name="ga6dc34ec194571babec40b5a19415ed66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6dc34ec194571babec40b5a19415ed66">&#9670;&#160;</a></span>ws281x_end_transmission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ws281x_end_transmission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structws281x__t.html">ws281x_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends the transmission to the WS2812/SK6812 LED chain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device descriptor of the LED chain to write to</td></tr>
  </table>
  </dd>
</dl>
<p>Does any cleanup the backend needs after sending data. In the simplest case it simply waits for 80µs to send the end of transmission signal. </p>

</div>
</div>
<a id="ga86c21bf9f319acb9c87725b1f9322f46" name="ga86c21bf9f319acb9c87725b1f9322f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86c21bf9f319acb9c87725b1f9322f46">&#9670;&#160;</a></span>ws281x_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ws281x_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structws281x__t.html">ws281x_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structws281x__params__t.html">ws281x_params_t</a> *</td>          <td class="paramname"><span class="paramname"><em>params</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an WS281x RGB LED chain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device descriptor to initialize </td></tr>
    <tr><td class="paramname">params</td><td>Parameters to initialize the device with</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid argument </td></tr>
    <tr><td class="paramname">-EIO</td><td>Failed to initialize the data GPIO pin </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab946c1a39cf3a2ebefb8fe0ae12e4bd9" name="gab946c1a39cf3a2ebefb8fe0ae12e4bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab946c1a39cf3a2ebefb8fe0ae12e4bd9">&#9670;&#160;</a></span>ws281x_prepare_transmission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ws281x_prepare_transmission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structws281x__t.html">ws281x_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up everything needed to write data to the WS281X LED chain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device descriptor of the LED chain to write to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga02cbbd1887bf1c4bf5d260e847694b42" name="ga02cbbd1887bf1c4bf5d260e847694b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02cbbd1887bf1c4bf5d260e847694b42">&#9670;&#160;</a></span>ws281x_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ws281x_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structws281x__t.html">ws281x_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcolor__rgb__t.html">color_rgb_t</a></td>          <td class="paramname"><span class="paramname"><em>color</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the color of an LED in the chain in the internal buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device descriptor of the LED chain to modify </td></tr>
    <tr><td class="paramname">index</td><td>The index of the LED to set the color of </td></tr>
    <tr><td class="paramname">color</td><td>The new color to apply</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This change will not become active until <a class="el" href="#ga3680a18762396b4b41df473fcab8942a">ws281x_write</a> is called </dd></dl>

<p class="definition">Definition at line <a class="el" href="ws281x_8h_source.html#l00230">230</a> of file <a class="el" href="ws281x_8h_source.html">ws281x.h</a>.</p>

</div>
</div>
<a id="gaf8e3ae1677359d0ff025aa2ecbe9911a" name="gaf8e3ae1677359d0ff025aa2ecbe9911a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8e3ae1677359d0ff025aa2ecbe9911a">&#9670;&#160;</a></span>ws281x_set_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ws281x_set_buffer </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcolor__rgb__t.html">color_rgb_t</a></td>          <td class="paramname"><span class="paramname"><em>color</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the color of an LED in the given data buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Buffer to set the color in </td></tr>
    <tr><td class="paramname">index</td><td>The index of the LED to set the color of </td></tr>
    <tr><td class="paramname">color</td><td>The new color to apply</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>This change will not become active until <a class="el" href="#ga3680a18762396b4b41df473fcab8942a">ws281x_write</a> is called </dd></dl>

</div>
</div>
<a id="ga3680a18762396b4b41df473fcab8942a" name="ga3680a18762396b4b41df473fcab8942a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3680a18762396b4b41df473fcab8942a">&#9670;&#160;</a></span>ws281x_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ws281x_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structws281x__t.html">ws281x_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the internal buffer to the LED chain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device descriptor of the LED chain to write to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function implicitly calls <a class="el" href="#ga6dc34ec194571babec40b5a19415ed66">ws281x_end_transmission</a> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ga02cbbd1887bf1c4bf5d260e847694b42" title="Sets the color of an LED in the chain in the internal buffer.">ws281x_set</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="ws281x_8h_source.html#l00243">243</a> of file <a class="el" href="ws281x_8h_source.html">ws281x.h</a>.</p>

</div>
</div>
<a id="gaed6836b35419db74c0157baf49fa50a3" name="gaed6836b35419db74c0157baf49fa50a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed6836b35419db74c0157baf49fa50a3">&#9670;&#160;</a></span>ws281x_write_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ws281x_write_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structws281x__t.html">ws281x_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the color data of the user supplied buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Device descriptor of the LED chain to write to </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to write </td></tr>
    <tr><td class="paramname">size</td><td>Size of the buffer in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Before the transmission starts <a class="el" href="#gab946c1a39cf3a2ebefb8fe0ae12e4bd9">ws281x_prepare_transmission</a> is called </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>At the end of the transmission <a class="el" href="#ga6dc34ec194571babec40b5a19415ed66">ws281x_end_transmission</a> is called</dd></dl>
<p>This function can be used to drive a huge number of LEDs with small data buffers. However, after the return of this function the next chunk should be send within a few microseconds to avoid accidentally sending the end of transmission signal.</p>
<p>Usage: </p><div class="fragment"><div class="line">uint8_t chunk[CHUNK_SIZE];</div>
<div class="line"><a class="code hl_function" href="#gab946c1a39cf3a2ebefb8fe0ae12e4bd9">ws281x_prepare_transmission</a>(ws281x_dev);</div>
<div class="line"><span class="keywordflow">while</span> (more_chunks_available()) {</div>
<div class="line">   prepare_chunk(chunk);</div>
<div class="line">   <a class="code hl_function" href="#gaed6836b35419db74c0157baf49fa50a3">ws281x_write_buffer</a>(ws281x_dev, chunk, <span class="keyword">sizeof</span>(chunk));</div>
<div class="line">}</div>
<div class="line"><a class="code hl_function" href="#ga6dc34ec194571babec40b5a19415ed66">ws281x_end_transmission</a>(dev);</div>
<div class="ttc" id="agroup__drivers__ws281x_html_ga6dc34ec194571babec40b5a19415ed66"><div class="ttname"><a href="#ga6dc34ec194571babec40b5a19415ed66">ws281x_end_transmission</a></div><div class="ttdeci">void ws281x_end_transmission(ws281x_t *dev)</div><div class="ttdoc">Ends the transmission to the WS2812/SK6812 LED chain.</div></div>
<div class="ttc" id="agroup__drivers__ws281x_html_gab946c1a39cf3a2ebefb8fe0ae12e4bd9"><div class="ttname"><a href="#gab946c1a39cf3a2ebefb8fe0ae12e4bd9">ws281x_prepare_transmission</a></div><div class="ttdeci">void ws281x_prepare_transmission(ws281x_t *dev)</div><div class="ttdoc">Sets up everything needed to write data to the WS281X LED chain.</div></div>
<div class="ttc" id="agroup__drivers__ws281x_html_gaed6836b35419db74c0157baf49fa50a3"><div class="ttname"><a href="#gaed6836b35419db74c0157baf49fa50a3">ws281x_write_buffer</a></div><div class="ttdeci">void ws281x_write_buffer(ws281x_t *dev, const void *buf, size_t size)</div><div class="ttdoc">Writes the color data of the user supplied buffer.</div></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

    </div>
  </body>
</html>
