<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RIOT OS: Soft SPI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!-- <script type="text/javascript" src="jquery.js"></script> -->
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<!-- <link href="/pagefind/pagefind-ui.css" rel="stylesheet"> -->
<script src="/pagefind/pagefind-ui.js"></script>
<script>
  // Check whether the PagefindUI class is available
  if (typeof PagefindUI === 'undefined') {
    console.error('PagefindUI class is not available | Dev Build');
  } else {
    // // Remove the "searchstub" element and initialize the PagefindUI class
    // document.getElementById("#searchstub").remove();
    // Initialize the PagefindUI class with the element id "search"
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true });
    });
  }
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="global.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <script>
    // Print the data within the NAVTREE variable from the navtreedata.js file
    var navtree = NAVTREE;
    console.log(navtree);
  </script>
<div class="flex flex-row gap-4 w-screen font-sans text-lg max-h-screen overscroll-contain justify-items-stretch bg-neutral-900">
  <!--Sidebar-->
  <div data-pagefind-ignore="all" class="w-1/3 max-w-md flex-auto h-screen bg-neutral-800 ring-2 ring-neutral-700 shadow-neutral-800 shadow-2xl rounded-xl p-3 ml-1 my-2 mr-3 flex flex-col justify-around">
    <div id="top" class="justify-self-center content-center items-center place-content-center">
      <img alt="Logo" src="riot-logo.svg"/>
      <div id="projectbrief">
        The friendly Operating System for the Internet of Things
      </div>
    </div>
    <div id="search" class="place-content-center" class="overflow-y-scroll max-h-64 bg-slate-400 ring-2 ring-white text-white" >
      <h1>Searchbar via Pagefind</h1>
      <!-- <div id="searchstub" class="flex items-center border border-gray-300 rounded-lg p-2 shadow-sm">
        <input type="text" placeholder="Search is only available in Production Build ..." class="flex-grow p-2 outline-none">
      </div> -->
    </div>
    <div id="navtree">
      <script>
        // The navtree variable is always a pair of two elements (key, value)
        // The key is the name we should display and the value is the link to the page
        // Generate the navtree from the navtreedata.js file and put it under the navtree div
        var navtree = NAVTREE[0][2];
        var navtreeHTML = "<h1>Navigation based on Doxygen</h1> <ul>";
        for (var i = 0; i < navtree.length; i++) {
          navtreeHTML += "<li><a href='" + navtree[i][1] + "'>" + navtree[i][0] + "</a></li>";
          if (i == 5) {
            navtreeHTML += '<li><h3 class="ring-2 ring-white"> Random Insert for Demonstration </h3></li>';
          }
        }
        navtreeHTML += "</ul>";
        document.getElementById("navtree").innerHTML = navtreeHTML;
      </script>
    </div>
    <ul>
      <li class="footer">
        Generated on Tue Sep 24 2024 11:16:27 by 
          <a href="http://www.doxygen.org/index.html">
            Doxygen
          </a> 
        1.12.0
      </li>
    </ul>
  </div>
  <!--Main Content-->
  <div class="hidden">
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__drivers__soft__spi.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#groups">Topics</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Soft SPI<div class="ingroups"><a class="el" href="group__drivers.html">Drivers</a> &raquo; <a class="el" href="group__drivers__soft__periph.html">Soft Peripheral Driver Interface</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Software implemented Serial Peripheral Interface bus  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Software implemented Serial Peripheral Interface bus </p>
<p>This module provides a software implemented Serial Peripheral Interface bus. It is intended to be used in situation where hardware spi is not available. The signatures of the functions are similar to the functions declared in <a class="el" href="spi_8h.html" title="Low-level SPI peripheral driver interface definition.">spi.h</a> The clock speed is approximated by using xtimer_usleep. Currently only the use of MOSI in master mode is implemented. Therefore receiving data from a slave is currently not possible. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__softspi__config.html">Software SPI driver compile configuration</a></td></tr>
<tr class="memdesc:group__drivers__softspi__config"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="soft__spi_8h.html">soft_spi.h</a></td></tr>
<tr class="memdesc:soft__spi_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software SPI port descriptor definition. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="soft__spi__params_8h.html">soft_spi_params.h</a></td></tr>
<tr class="memdesc:soft__spi__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software SPI configuration. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsoft__spi__conf__t.html">soft_spi_conf_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software SPI port descriptor.  <a href="structsoft__spi__conf__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga3673409c1743be03fbd6ad8ac8bdad2c" id="r_ga3673409c1743be03fbd6ad8ac8bdad2c"><td class="memItemLeft" align="right" valign="top">typedef unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td></tr>
<tr class="memdesc:ga3673409c1743be03fbd6ad8ac8bdad2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default type for SPI devices.  <br /></td></tr>
<tr class="separator:ga3673409c1743be03fbd6ad8ac8bdad2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d93b1294961ea929e354f99b976d1c1" id="r_ga6d93b1294961ea929e354f99b976d1c1"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__drivers__periph__gpio.html#gadacfc0deb08affff1e88f9549c8e2823">gpio_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a></td></tr>
<tr class="memdesc:ga6d93b1294961ea929e354f99b976d1c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chip select pin type overlaps with gpio_t so it can be casted to this.  <br /></td></tr>
<tr class="separator:ga6d93b1294961ea929e354f99b976d1c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5ae760a5c9b7253fc22419bcd09c6a5e" id="r_ga5ae760a5c9b7253fc22419bcd09c6a5e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#gga5ae760a5c9b7253fc22419bcd09c6a5ea25f1a868f2f9ff764ed1aa3e9a7857c2">SOFT_SPI_OK</a> = 0
, <a class="el" href="#gga5ae760a5c9b7253fc22419bcd09c6a5eaef2aafc31075d8d494dc892998ba8af7">SOFT_SPI_NODEV</a> = -1
, <a class="el" href="#gga5ae760a5c9b7253fc22419bcd09c6a5eaee22c8181a36a1a730aa02928898efaa">SOFT_SPI_NOCS</a> = -2
, <a class="el" href="#gga5ae760a5c9b7253fc22419bcd09c6a5eab9e161f3fc51393bbc3e445177aecc58">SOFT_SPI_NOMODE</a> = -3
, <br />
&#160;&#160;<a class="el" href="#gga5ae760a5c9b7253fc22419bcd09c6a5ea8a57961b50302c8882bf8a963ef20c7e">SOFT_SPI_NOCLK</a> = -4
<br />
 }</td></tr>
<tr class="memdesc:ga5ae760a5c9b7253fc22419bcd09c6a5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status codes used by the SPI driver interface.  <a href="#ga5ae760a5c9b7253fc22419bcd09c6a5e">More...</a><br /></td></tr>
<tr class="separator:ga5ae760a5c9b7253fc22419bcd09c6a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0067f31877b2a3787c4de2a0413bac65" id="r_ga0067f31877b2a3787c4de2a0413bac65"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0067f31877b2a3787c4de2a0413bac65">soft_spi_mode_t</a> { <a class="el" href="#gga0067f31877b2a3787c4de2a0413bac65a7d92c7f4ff6f3c2f59d96c1c2ead5a42">SOFT_SPI_MODE_0</a> = 0
, <a class="el" href="#gga0067f31877b2a3787c4de2a0413bac65a75c34f0571d249d034064d8a32a8aa22">SOFT_SPI_MODE_1</a>
, <a class="el" href="#gga0067f31877b2a3787c4de2a0413bac65a0312cfb6233021a796df6095d44b13c5">SOFT_SPI_MODE_2</a>
, <a class="el" href="#gga0067f31877b2a3787c4de2a0413bac65a363d2320db9b3124f1205da3e0108ab4">SOFT_SPI_MODE_3</a>
 }</td></tr>
<tr class="memdesc:ga0067f31877b2a3787c4de2a0413bac65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI modes, defining the configuration of clock polarity and clock phase.  <a href="#ga0067f31877b2a3787c4de2a0413bac65">More...</a><br /></td></tr>
<tr class="separator:ga0067f31877b2a3787c4de2a0413bac65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab891c834ce3f8f77ce8daacef7a2498e" id="r_gab891c834ce3f8f77ce8daacef7a2498e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab891c834ce3f8f77ce8daacef7a2498e">soft_spi_clk_t</a> { <a class="el" href="#ggab891c834ce3f8f77ce8daacef7a2498ea6c3c33d927a29fe51719f1484435ef58">SOFT_SPI_CLK_100KHZ</a> = 5
, <a class="el" href="#ggab891c834ce3f8f77ce8daacef7a2498ea487abf0414164f0088ec537dbb321bd4">SOFT_SPI_CLK_1MHZ</a> = 1
, <a class="el" href="#ggab891c834ce3f8f77ce8daacef7a2498ea9abd40091337ef15978ac96f579a73d7">SOFT_SPI_CLK_DEFAULT</a> = 0
 }</td></tr>
<tr class="memdesc:gab891c834ce3f8f77ce8daacef7a2498e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI clock speeds.  <a href="#gab891c834ce3f8f77ce8daacef7a2498e">More...</a><br /></td></tr>
<tr class="separator:gab891c834ce3f8f77ce8daacef7a2498e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3fba8676c9791f23c6abe5d5b5f7ed23" id="r_ga3fba8676c9791f23c6abe5d5b5f7ed23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3fba8676c9791f23c6abe5d5b5f7ed23">soft_spi_init</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus)</td></tr>
<tr class="memdesc:ga3fba8676c9791f23c6abe5d5b5f7ed23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic initialization of the given SPI bus.  <br /></td></tr>
<tr class="separator:ga3fba8676c9791f23c6abe5d5b5f7ed23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e280901c8cf33449914eade5fb286c4" id="r_ga6e280901c8cf33449914eade5fb286c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6e280901c8cf33449914eade5fb286c4">soft_spi_init_pins</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus)</td></tr>
<tr class="memdesc:ga6e280901c8cf33449914eade5fb286c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the used SPI bus pins, i.e.  <br /></td></tr>
<tr class="separator:ga6e280901c8cf33449914eade5fb286c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07c7ca4c0eb01f6549d703cf62721c4a" id="r_ga07c7ca4c0eb01f6549d703cf62721c4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga07c7ca4c0eb01f6549d703cf62721c4a">soft_spi_init_cs</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus, <a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a> cs)</td></tr>
<tr class="memdesc:ga07c7ca4c0eb01f6549d703cf62721c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the given chip select pin.  <br /></td></tr>
<tr class="separator:ga07c7ca4c0eb01f6549d703cf62721c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2c9bc86085aa365dea262ab5eb39db9" id="r_gaa2c9bc86085aa365dea262ab5eb39db9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa2c9bc86085aa365dea262ab5eb39db9">soft_spi_acquire</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus, <a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a> cs, <a class="el" href="#ga0067f31877b2a3787c4de2a0413bac65">soft_spi_mode_t</a> mode, <a class="el" href="#gab891c834ce3f8f77ce8daacef7a2498e">soft_spi_clk_t</a> clk)</td></tr>
<tr class="memdesc:gaa2c9bc86085aa365dea262ab5eb39db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new SPI transaction.  <br /></td></tr>
<tr class="separator:gaa2c9bc86085aa365dea262ab5eb39db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f0096dc0e43289840e1009a003b0964" id="r_ga7f0096dc0e43289840e1009a003b0964"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7f0096dc0e43289840e1009a003b0964">soft_spi_release</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus)</td></tr>
<tr class="memdesc:ga7f0096dc0e43289840e1009a003b0964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish an ongoing SPI transaction by releasing the given SPI bus.  <br /></td></tr>
<tr class="separator:ga7f0096dc0e43289840e1009a003b0964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa87443cfb62417da0c536158852539b3" id="r_gaa87443cfb62417da0c536158852539b3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa87443cfb62417da0c536158852539b3">soft_spi_transfer_byte</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus, <a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a> cs, bool cont, uint8_t out)</td></tr>
<tr class="memdesc:gaa87443cfb62417da0c536158852539b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer one byte on the given SPI bus Currently only the use of MOSI in master mode is implemented.  <br /></td></tr>
<tr class="separator:gaa87443cfb62417da0c536158852539b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa5d55d3931d1d5a8f56ce3cfa872b06" id="r_gaaa5d55d3931d1d5a8f56ce3cfa872b06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaa5d55d3931d1d5a8f56ce3cfa872b06">soft_spi_transfer_bytes</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus, <a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a> cs, bool cont, const void *out, void *in, size_t len)</td></tr>
<tr class="memdesc:gaaa5d55d3931d1d5a8f56ce3cfa872b06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer a number bytes using the given SPI bus.  <br /></td></tr>
<tr class="separator:gaaa5d55d3931d1d5a8f56ce3cfa872b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa840ffea1885e473aee969c8f0d4aa33" id="r_gaa840ffea1885e473aee969c8f0d4aa33"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa840ffea1885e473aee969c8f0d4aa33">soft_spi_transfer_reg</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus, <a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a> cs, uint8_t reg, uint8_t out)</td></tr>
<tr class="memdesc:gaa840ffea1885e473aee969c8f0d4aa33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer one byte to/from a given register address.  <br /></td></tr>
<tr class="separator:gaa840ffea1885e473aee969c8f0d4aa33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2617424a4549e30f61ceb90a7941725a" id="r_ga2617424a4549e30f61ceb90a7941725a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2617424a4549e30f61ceb90a7941725a">soft_spi_transfer_regs</a> (<a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a> bus, <a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a> cs, uint8_t reg, const void *out, void *in, size_t len)</td></tr>
<tr class="memdesc:ga2617424a4549e30f61ceb90a7941725a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer a number of bytes to/from a given register address.  <br /></td></tr>
<tr class="separator:ga2617424a4549e30f61ceb90a7941725a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga6d93b1294961ea929e354f99b976d1c1" name="ga6d93b1294961ea929e354f99b976d1c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d93b1294961ea929e354f99b976d1c1">&#9670;&#160;</a></span>soft_spi_cs_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__drivers__periph__gpio.html#gadacfc0deb08affff1e88f9549c8e2823">gpio_t</a> <a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Chip select pin type overlaps with gpio_t so it can be casted to this. </p>

<p class="definition">Definition at line <a class="el" href="soft__spi_8h_source.html#l00075">75</a> of file <a class="el" href="soft__spi_8h_source.html">soft_spi.h</a>.</p>

</div>
</div>
<a id="ga3673409c1743be03fbd6ad8ac8bdad2c" name="ga3673409c1743be03fbd6ad8ac8bdad2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3673409c1743be03fbd6ad8ac8bdad2c">&#9670;&#160;</a></span>soft_spi_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned int <a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default type for SPI devices. </p>

<p class="definition">Definition at line <a class="el" href="soft__spi_8h_source.html#l00069">69</a> of file <a class="el" href="soft__spi_8h_source.html">soft_spi.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga5ae760a5c9b7253fc22419bcd09c6a5e" name="ga5ae760a5c9b7253fc22419bcd09c6a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ae760a5c9b7253fc22419bcd09c6a5e">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status codes used by the SPI driver interface. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5ae760a5c9b7253fc22419bcd09c6a5ea25f1a868f2f9ff764ed1aa3e9a7857c2" name="gga5ae760a5c9b7253fc22419bcd09c6a5ea25f1a868f2f9ff764ed1aa3e9a7857c2"></a>SOFT_SPI_OK&#160;</td><td class="fielddoc"><p>everything went as planned </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5ae760a5c9b7253fc22419bcd09c6a5eaef2aafc31075d8d494dc892998ba8af7" name="gga5ae760a5c9b7253fc22419bcd09c6a5eaef2aafc31075d8d494dc892998ba8af7"></a>SOFT_SPI_NODEV&#160;</td><td class="fielddoc"><p>invalid SPI bus specified </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5ae760a5c9b7253fc22419bcd09c6a5eaee22c8181a36a1a730aa02928898efaa" name="gga5ae760a5c9b7253fc22419bcd09c6a5eaee22c8181a36a1a730aa02928898efaa"></a>SOFT_SPI_NOCS&#160;</td><td class="fielddoc"><p>invalid chip select line specified </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5ae760a5c9b7253fc22419bcd09c6a5eab9e161f3fc51393bbc3e445177aecc58" name="gga5ae760a5c9b7253fc22419bcd09c6a5eab9e161f3fc51393bbc3e445177aecc58"></a>SOFT_SPI_NOMODE&#160;</td><td class="fielddoc"><p>selected mode is not supported </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5ae760a5c9b7253fc22419bcd09c6a5ea8a57961b50302c8882bf8a963ef20c7e" name="gga5ae760a5c9b7253fc22419bcd09c6a5ea8a57961b50302c8882bf8a963ef20c7e"></a>SOFT_SPI_NOCLK&#160;</td><td class="fielddoc"><p>selected clock value is not supported </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="soft__spi_8h_source.html#l00080">80</a> of file <a class="el" href="soft__spi_8h_source.html">soft_spi.h</a>.</p>

</div>
</div>
<a id="gab891c834ce3f8f77ce8daacef7a2498e" name="gab891c834ce3f8f77ce8daacef7a2498e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab891c834ce3f8f77ce8daacef7a2498e">&#9670;&#160;</a></span>soft_spi_clk_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gab891c834ce3f8f77ce8daacef7a2498e">soft_spi_clk_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Available SPI clock speeds. </p>
<p>The actual speed of the bus varies between CPUs and depends on the speed of the processing. The values of the enum entries represent the approximate delay between two clock edges. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab891c834ce3f8f77ce8daacef7a2498ea6c3c33d927a29fe51719f1484435ef58" name="ggab891c834ce3f8f77ce8daacef7a2498ea6c3c33d927a29fe51719f1484435ef58"></a>SOFT_SPI_CLK_100KHZ&#160;</td><td class="fielddoc"><p>drive the SPI bus with less than 100kHz </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab891c834ce3f8f77ce8daacef7a2498ea487abf0414164f0088ec537dbb321bd4" name="ggab891c834ce3f8f77ce8daacef7a2498ea487abf0414164f0088ec537dbb321bd4"></a>SOFT_SPI_CLK_1MHZ&#160;</td><td class="fielddoc"><p>drive the SPI bus with less than 1MHz </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab891c834ce3f8f77ce8daacef7a2498ea9abd40091337ef15978ac96f579a73d7" name="ggab891c834ce3f8f77ce8daacef7a2498ea9abd40091337ef15978ac96f579a73d7"></a>SOFT_SPI_CLK_DEFAULT&#160;</td><td class="fielddoc"><p>drive the SPI bus with maximum speed possible </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="soft__spi_8h_source.html#l00118">118</a> of file <a class="el" href="soft__spi_8h_source.html">soft_spi.h</a>.</p>

</div>
</div>
<a id="ga0067f31877b2a3787c4de2a0413bac65" name="ga0067f31877b2a3787c4de2a0413bac65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0067f31877b2a3787c4de2a0413bac65">&#9670;&#160;</a></span>soft_spi_mode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga0067f31877b2a3787c4de2a0413bac65">soft_spi_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Available SPI modes, defining the configuration of clock polarity and clock phase. </p>
<p>RIOT is using the mode numbers as commonly defined by most vendors (<a href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus#Mode_numbers">https://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus#Mode_numbers</a>):</p>
<ul>
<li>MODE_0: CPOL=0, CPHA=0 - The first data bit is sampled by the receiver on the first SCK rising SCK edge (this mode is used most often).</li>
<li>MODE_1: CPOL=0, CPHA=1 - The first data bit is sampled by the receiver on the second rising SCK edge.</li>
<li>MODE_2: CPOL=1, CPHA=0 - The first data bit is sampled by the receiver on the first falling SCK edge.</li>
<li>MODE_3: CPOL=1, CPHA=1 - The first data bit is sampled by the receiver on the second falling SCK edge. </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0067f31877b2a3787c4de2a0413bac65a7d92c7f4ff6f3c2f59d96c1c2ead5a42" name="gga0067f31877b2a3787c4de2a0413bac65a7d92c7f4ff6f3c2f59d96c1c2ead5a42"></a>SOFT_SPI_MODE_0&#160;</td><td class="fielddoc"><p>CPOL=0, CPHA=0. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0067f31877b2a3787c4de2a0413bac65a75c34f0571d249d034064d8a32a8aa22" name="gga0067f31877b2a3787c4de2a0413bac65a75c34f0571d249d034064d8a32a8aa22"></a>SOFT_SPI_MODE_1&#160;</td><td class="fielddoc"><p>CPOL=0, CPHA=1. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0067f31877b2a3787c4de2a0413bac65a0312cfb6233021a796df6095d44b13c5" name="gga0067f31877b2a3787c4de2a0413bac65a0312cfb6233021a796df6095d44b13c5"></a>SOFT_SPI_MODE_2&#160;</td><td class="fielddoc"><p>CPOL=1, CPHA=0. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0067f31877b2a3787c4de2a0413bac65a363d2320db9b3124f1205da3e0108ab4" name="gga0067f31877b2a3787c4de2a0413bac65a363d2320db9b3124f1205da3e0108ab4"></a>SOFT_SPI_MODE_3&#160;</td><td class="fielddoc"><p>CPOL=1, CPHA=1. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="soft__spi_8h_source.html#l00104">104</a> of file <a class="el" href="soft__spi_8h_source.html">soft_spi.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa2c9bc86085aa365dea262ab5eb39db9" name="gaa2c9bc86085aa365dea262ab5eb39db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2c9bc86085aa365dea262ab5eb39db9">&#9670;&#160;</a></span>soft_spi_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soft_spi_acquire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a></td>          <td class="paramname"><span class="paramname"><em>cs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga0067f31877b2a3787c4de2a0413bac65">soft_spi_mode_t</a></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gab891c834ce3f8f77ce8daacef7a2498e">soft_spi_clk_t</a></td>          <td class="paramname"><span class="paramname"><em>clk</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a new SPI transaction. </p>
<p>Starting a new SPI transaction will get exclusive access to the SPI bus and configure it according to the given values. If another SPI transaction is active when this function is called, this function will block until the other transaction is complete (soft_spi_relase was called).</p>
<dl class="section note"><dt>Note</dt><dd>This function expects the <code>bus</code> and the <code>cs</code> parameters to be valid (they are checked in soft_spi_init and soft_spi_init_cs before)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device to access </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>chip select pin/line to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>mode to use for the new transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clk</td><td>bus clock speed to use for the transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3fba8676c9791f23c6abe5d5b5f7ed23" name="ga3fba8676c9791f23c6abe5d5b5f7ed23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3fba8676c9791f23c6abe5d5b5f7ed23">&#9670;&#160;</a></span>soft_spi_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soft_spi_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic initialization of the given SPI bus. </p>
<p>This function does the basic initialization including pin configuration for MISO, MOSI, and CLK pins.</p>
<p>Errors (e.g. invalid <code>bus</code> parameter) are not signaled through a return value, but should be signaled using the <a class="el" href="assert_8h.html#a3153a272f18d0f805028fce7e4337b53" title="abort the program if assertion is false">assert()</a> function internally.</p>
<dl class="section note"><dt>Note</dt><dd>This function MUST not be called more than once per bus!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device to initialize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga07c7ca4c0eb01f6549d703cf62721c4a" name="ga07c7ca4c0eb01f6549d703cf62721c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07c7ca4c0eb01f6549d703cf62721c4a">&#9670;&#160;</a></span>soft_spi_init_cs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int soft_spi_init_cs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a></td>          <td class="paramname"><span class="paramname"><em>cs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the given chip select pin. </p>
<p>The chip select must be any generic GPIO pin (e.g. <a class="el" href="atmega1284p_2include_2periph__cpu_8h.html#ae29846b3ecd19a0b7c44ff80a37ae7c1" title="Define a CPU specific GPIO pin generator macro.">GPIO_PIN(x,y)</a>). It must be called once before the use of the chip select pin in transaction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device that is used with the given CS line </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>chip select pin to initialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOFT_SPI_OK on success </dd>
<dd>
SOFT_SPI_NODEV on invalid device </dd>
<dd>
SOFT_SPI_NOCS on invalid CS pin/line </dd></dl>

</div>
</div>
<a id="ga6e280901c8cf33449914eade5fb286c4" name="ga6e280901c8cf33449914eade5fb286c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e280901c8cf33449914eade5fb286c4">&#9670;&#160;</a></span>soft_spi_init_pins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soft_spi_init_pins </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the used SPI bus pins, i.e. </p>
<p>MISO, MOSI, and CLK</p>
<p>After calling soft_spi_init, the pins must be initialized. In normal cases, this function will not be used.</p>
<p>The pins used are configured in the board's periph_conf.h.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device the pins are configure for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7f0096dc0e43289840e1009a003b0964" name="ga7f0096dc0e43289840e1009a003b0964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f0096dc0e43289840e1009a003b0964">&#9670;&#160;</a></span>soft_spi_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soft_spi_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish an ongoing SPI transaction by releasing the given SPI bus. </p>
<p>After release, the given SPI bus should be fully powered down until acquired again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device to release </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa87443cfb62417da0c536158852539b3" name="gaa87443cfb62417da0c536158852539b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa87443cfb62417da0c536158852539b3">&#9670;&#160;</a></span>soft_spi_transfer_byte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t soft_spi_transfer_byte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a></td>          <td class="paramname"><span class="paramname"><em>cs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>cont</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer one byte on the given SPI bus Currently only the use of MOSI in master mode is implemented. </p>
<p>Therefore receiving data from a slave is currently not possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>chip select pin/line to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cont</td><td>if true, keep device selected after transfer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>byte to send out, set NULL if only receiving</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the received byte </dd></dl>

</div>
</div>
<a id="gaaa5d55d3931d1d5a8f56ce3cfa872b06" name="gaaa5d55d3931d1d5a8f56ce3cfa872b06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa5d55d3931d1d5a8f56ce3cfa872b06">&#9670;&#160;</a></span>soft_spi_transfer_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soft_spi_transfer_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a></td>          <td class="paramname"><span class="paramname"><em>cs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>cont</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer a number bytes using the given SPI bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>chip select pin/line to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cont</td><td>if true, keep device selected after transfer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>buffer to send data from, set NULL if only receiving </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">in</td><td>buffer to read into, set NULL if only sending </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>number of bytes to transfer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa840ffea1885e473aee969c8f0d4aa33" name="gaa840ffea1885e473aee969c8f0d4aa33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa840ffea1885e473aee969c8f0d4aa33">&#9670;&#160;</a></span>soft_spi_transfer_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t soft_spi_transfer_reg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a></td>          <td class="paramname"><span class="paramname"><em>cs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer one byte to/from a given register address. </p>
<p>This function is a shortcut function for easier handling of SPI devices that implement a register based access scheme.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>chip select pin/line to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>register address to transfer data to/from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>byte to send, set NULL if only receiving data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value that was read from the given register address </dd></dl>

</div>
</div>
<a id="ga2617424a4549e30f61ceb90a7941725a" name="ga2617424a4549e30f61ceb90a7941725a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2617424a4549e30f61ceb90a7941725a">&#9670;&#160;</a></span>soft_spi_transfer_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soft_spi_transfer_regs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga3673409c1743be03fbd6ad8ac8bdad2c">soft_spi_t</a></td>          <td class="paramname"><span class="paramname"><em>bus</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga6d93b1294961ea929e354f99b976d1c1">soft_spi_cs_t</a></td>          <td class="paramname"><span class="paramname"><em>cs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer a number of bytes to/from a given register address. </p>
<p>This function is a shortcut function for easier handling of SPI devices that implement a register based access scheme.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bus</td><td>SPI device to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>chip select pin/line to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>register address to transfer data to/from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out</td><td>buffer to send data from, set NULL if only receiving </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">in</td><td>buffer to read into, set NULL if only sending </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>number of bytes to transfer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

    </div>
  </body>
</html>
